<!DOCTYPE html><script type="module" src="/_astro/form.astro_astro_type_script_index_0_lang.D1ViXRoa.js"></script> <link rel="stylesheet" href="/_astro/form.DhkOn4XD.css"><form id="contact-form" data-astro-cid-7xixkbsh> <div class="contact-us" id="contact_us" data-astro-cid-7xixkbsh> <div class="form-container" data-inputs data-astro-cid-7xixkbsh> <span class="form-title" tabindex="0" data-astro-cid-7xixkbsh>¿Charlamos?</span> <div class="form-input-box" data-inputs data-astro-cid-7xixkbsh> <div class="form-input-container" data-inputs data-astro-cid-7xixkbsh> <div class="form-names-box" data-inputs data-astro-cid-7xixkbsh> <label class="form-names" for="contact-name" data-astro-cid-7xixkbsh>Nombre</label> <input type="text" id="contact-name" aria-label="Nombre" class="form-input" required data-astro-cid-7xixkbsh> <div class="error-message" id="error-name" data-astro-cid-7xixkbsh></div> </div> <div class="form-names-box" data-inputs data-astro-cid-7xixkbsh> <label class="form-names" for="contact-email" data-astro-cid-7xixkbsh>Correo o Teléfono</label> <input type="text" id="contact-email" aria-label="Correo o Teléfono" class="form-input" required data-astro-cid-7xixkbsh> <div class="error-message" id="error-email" data-astro-cid-7xixkbsh></div> </div> </div> <div class="form-message-input-container" data-inputs data-astro-cid-7xixkbsh> <label class="form-names" for="contact-message" data-astro-cid-7xixkbsh>Mensaje</label> <textarea id="contact-message" aria-label="Mensaje" class="form-input" placeholder="¿En qué te puedo ayudar?" required data-astro-cid-7xixkbsh></textarea> <div class="error-message" id="error-message" data-astro-cid-7xixkbsh></div> </div> <div class="form-rgpd-box" data-inputs data-astro-cid-7xixkbsh> <div class="row" data-astro-cid-7xixkbsh> <input type="checkbox" id="contact-rgpd" required data-astro-cid-7xixkbsh> <label for="contact-rgpd" class="rgpd" data-astro-cid-7xixkbsh>He leído y acepto la <a class="md-link" target="_blank" href="/legal/politica-de-privacidad" data-astro-cid-7xixkbsh>política de privacidad</a></label> </div> </div> </div> <div class="title-div-under" data-inputs data-astro-cid-7xixkbsh> <button type="submit" class="cta shadow button_under" data-astro-cid-7xixkbsh>ENVIAR</button> </div> </div> <div id="form-status" class="my-12 text-8 py-3 px-5" data-astro-cid-7xixkbsh></div> </div> </form> <script>
  document.addEventListener("DOMContentLoaded", () => {
    emailjs.init("hjKrCI6RRjy4D7bn_");

    const form = document.getElementById("contact-form");
    const status = document.getElementById("form-status");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const name = document.getElementById("contact-name");
      const email = document.getElementById("contact-email");
      const message = document.getElementById("contact-message");
      const rgpd = document.getElementById("contact-rgpd");

      let valid = true;

      // Validaciones básicas
      if (!name.value.trim()) {
        document.getElementById("error-name").textContent = "El nombre no puede estar vacío";
        valid = false;
      } else {
        document.getElementById("error-name").textContent = "";
      }

      if (!email.value.trim()) {
        document.getElementById("error-email").textContent = "El correo o teléfono no puede estar vacío";
        valid = false;
      } else {
        document.getElementById("error-email").textContent = "";
      }

      if (!message.value.trim()) {
        document.getElementById("error-message").textContent = "El mensaje no puede estar vacío";
        valid = false;
      } else {
        document.getElementById("error-message").textContent = "";
      }

      if (!rgpd.checked) {
        alert("Debes aceptar la política de privacidad.");
        valid = false;
      }

      if (!valid) return;

      // Animación de envío
      const submitBtn = form.querySelector('button[type="submit"]');
      const formContainer = document.querySelector('.form-container');
      
      submitBtn.disabled = true;
      submitBtn.textContent = "ENVIANDO...";
      submitBtn.classList.add('sending');
      formContainer.classList.add('form-sending');

      const params = {
        name: name.value,
        email: email.value,
        message: message.value,
      };

      emailjs.send("service_gs1moco", "template_fcs5nzm", params)
        .then(() => {
          formContainer.classList.remove('form-sending');
          formContainer.classList.add('form-success');
          
          status.textContent = "¡Mensaje enviado correctamente! ✅";
          status.style.color = "var(--color-primary)";
          status.classList.add('status-show', 'status-success');
          
          setTimeout(() => {
            form.reset();
            submitBtn.disabled = false;
            submitBtn.textContent = "ENVIAR";
            submitBtn.classList.remove('sending');
            formContainer.classList.remove('form-success');
            status.classList.remove('status-show', 'status-success');
          }, 3000);
        })
        .catch((err) => {
          formContainer.classList.remove('form-sending');
          formContainer.classList.add('form-error');
          
          status.textContent = "Error al enviar el mensaje ❌";
          status.style.color = "#dc2626";
          status.classList.add('status-show', 'status-error');
          
          submitBtn.disabled = false;
          submitBtn.textContent = "ENVIAR";
          submitBtn.classList.remove('sending');
          
          setTimeout(() => {
            formContainer.classList.remove('form-error');
            status.classList.remove('status-show', 'status-error');
          }, 3000);
          
          console.error(err);
        });
    });
  });
</script> 